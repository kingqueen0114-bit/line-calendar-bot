<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      background: #f5f5f5;
    }
    h1 {
      text-align: center;
      color: #06C755;
    }
    .info {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .canvas-container {
      text-align: center;
      margin: 20px 0;
    }
    canvas {
      border: 2px solid #ddd;
      border-radius: 8px;
      max-width: 100%;
      height: auto;
      background: white;
    }
    .controls {
      background: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .control-group {
      margin-bottom: 15px;
    }
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: 600;
      color: #333;
    }
    input[type="color"],
    input[type="range"],
    input[type="number"] {
      width: 100%;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    input[type="range"] {
      height: 30px;
    }
    button {
      background: #06C755;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 4px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      margin-top: 10px;
    }
    button:hover {
      background: #05B04B;
    }
    .value-display {
      display: inline-block;
      margin-left: 10px;
      color: #666;
    }
  </style>
</head>
<body>
  <h1>ğŸ“± LINE ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»åƒã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>

  <div class="info">
    <p><strong>ã‚µã‚¤ã‚º:</strong> 2500 x 1686 pixels</p>
    <p><strong>ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ:</strong> 3åˆ— x 4è¡Œï¼ˆæœ€ä¸‹æ®µã¯Geminiã§å…¨å¹…ï¼‰</p>
    <p>ãƒ–ãƒ©ã‚¦ã‚¶ã§ç”»åƒã‚’ç”Ÿæˆã—ã¦ã€å³ã‚¯ãƒªãƒƒã‚¯ â†’ ã€Œç”»åƒã‚’ä¿å­˜ã€ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚</p>
  </div>

  <div class="controls">
    <h3>ğŸ¨ ã‚«ãƒ©ãƒ¼è¨­å®š</h3>

    <div class="control-group">
      <label for="bgColor">èƒŒæ™¯è‰²</label>
      <input type="color" id="bgColor" value="#ffffff">
    </div>

    <div class="control-group">
      <label for="textColor">ãƒ†ã‚­ã‚¹ãƒˆè‰²</label>
      <input type="color" id="textColor" value="#333333">
    </div>

    <div class="control-group">
      <label for="borderColor">ãƒœãƒ¼ãƒ€ãƒ¼è‰²</label>
      <input type="color" id="borderColor" value="#e0e0e0">
    </div>

    <div class="control-group">
      <label for="accentColor">ã‚¢ã‚¯ã‚»ãƒ³ãƒˆè‰²ï¼ˆå¤–éƒ¨ãƒªãƒ³ã‚¯ï¼‰</label>
      <input type="color" id="accentColor" value="#06C755">
    </div>

    <h3>ğŸ“ ãƒ•ã‚©ãƒ³ãƒˆè¨­å®š</h3>

    <div class="control-group">
      <label for="fontSize">ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º: <span class="value-display" id="fontSizeValue">44px</span></label>
      <input type="range" id="fontSize" min="30" max="80" value="44">
    </div>

    <div class="control-group">
      <label for="emojiSize">çµµæ–‡å­—ã‚µã‚¤ã‚º: <span class="value-display" id="emojiSizeValue">60px</span></label>
      <input type="range" id="emojiSize" min="40" max="100" value="60">
    </div>

    <button onclick="generateImage()">ğŸ¨ ç”»åƒã‚’ç”Ÿæˆ</button>
  </div>

  <div class="canvas-container">
    <canvas id="richMenuCanvas" width="2500" height="1686"></canvas>
  </div>

  <div class="info">
    <h3>ğŸ’¾ ä¿å­˜æ–¹æ³•</h3>
    <ol>
      <li>ä¸Šã®ç”»åƒã‚’å³ã‚¯ãƒªãƒƒã‚¯</li>
      <li>ã€Œåå‰ã‚’ä»˜ã‘ã¦ç”»åƒã‚’ä¿å­˜ã€ã‚’é¸æŠ</li>
      <li>ãƒ•ã‚¡ã‚¤ãƒ«åã‚’ã€Œrich-menu-image.pngã€ã¨ã—ã¦ä¿å­˜</li>
    </ol>

    <h3>ğŸ“¤ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ–¹æ³•</h3>
    <pre style="background: #f5f5f5; padding: 10px; border-radius: 4px; overflow-x: auto;">
export TOKEN="YOUR_CHANNEL_ACCESS_TOKEN"

MENU_ID=$(curl -s -X POST https://api.line.me/v2/bot/richmenu \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d @rich-menu.json | jq -r '.richMenuId')

curl -X POST https://api-data.line.me/v2/bot/richmenu/$MENU_ID/content \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: image/png" \
  --data-binary @rich-menu-image.png

curl -X POST https://api.line.me/v2/bot/user/all/richmenu/$MENU_ID \
  -H "Authorization: Bearer $TOKEN"

echo "âœ… Rich menu setup complete! ID: $MENU_ID"
    </pre>
  </div>

  <script>
    const canvas = document.getElementById('richMenuCanvas');
    const ctx = canvas.getContext('2d');

    // ãƒªãƒƒãƒãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®å®šç¾©ï¼ˆæ–°ã—ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼‰
    const menuItems = [
      // Row 1
      { x: 0, y: 0, width: 833, height: 421, emoji: 'ğŸ“…', text: 'äºˆå®šä¸€è¦§', isExternal: false },
      { x: 833, y: 0, width: 834, height: 421, emoji: 'â•', text: 'äºˆå®šç™»éŒ²', isExternal: false },
      { x: 1667, y: 0, width: 833, height: 421, emoji: 'âœï¸', text: 'äºˆå®šã®å¤‰æ›´', isExternal: false },

      // Row 2
      { x: 0, y: 421, width: 833, height: 422, emoji: 'ğŸ—‘ï¸', text: 'ã‚­ãƒ£ãƒ³ã‚»ãƒ«', isExternal: false },
      { x: 833, y: 421, width: 834, height: 422, emoji: 'âœ…', text: 'ã‚¿ã‚¹ã‚¯ä¸€è¦§', isExternal: false },
      { x: 1667, y: 421, width: 833, height: 422, emoji: 'ğŸ“', text: 'ã‚¿ã‚¹ã‚¯ç™»éŒ²', isExternal: false },

      // Row 3
      { x: 0, y: 843, width: 833, height: 422, emoji: 'âœ”ï¸', text: 'ã‚¿ã‚¹ã‚¯å®Œäº†', isExternal: false },
      { x: 833, y: 843, width: 834, height: 422, emoji: 'ğŸ“†', text: 'Calendar', isExternal: true },
      { x: 1667, y: 843, width: 833, height: 422, emoji: 'ğŸ“‹', text: 'Tasks', isExternal: true },

      // Row 4 (full width)
      { x: 0, y: 1265, width: 2500, height: 421, emoji: 'ğŸ¤–', text: 'Gemini', isExternal: true }
    ];

    // è¨­å®šå€¤ã®æ›´æ–°
    document.getElementById('fontSize').addEventListener('input', (e) => {
      document.getElementById('fontSizeValue').textContent = e.target.value + 'px';
      generateImage();
    });

    document.getElementById('emojiSize').addEventListener('input', (e) => {
      document.getElementById('emojiSizeValue').textContent = e.target.value + 'px';
      generateImage();
    });

    // ã‚«ãƒ©ãƒ¼å¤‰æ›´æ™‚ã‚‚è‡ªå‹•å†ç”Ÿæˆ
    ['bgColor', 'textColor', 'borderColor', 'accentColor'].forEach(id => {
      document.getElementById(id).addEventListener('input', generateImage);
    });

    function generateImage() {
      const bgColor = document.getElementById('bgColor').value;
      const textColor = document.getElementById('textColor').value;
      const borderColor = document.getElementById('borderColor').value;
      const accentColor = document.getElementById('accentColor').value;
      const fontSize = parseInt(document.getElementById('fontSize').value);
      const emojiSize = parseInt(document.getElementById('emojiSize').value);

      // èƒŒæ™¯ã‚’å¡—ã‚Šã¤ã¶ã—
      ctx.fillStyle = bgColor;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // å„ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¢ã‚¤ãƒ†ãƒ ã‚’æç”»
      menuItems.forEach(item => {
        // ãƒœãƒƒã‚¯ã‚¹ã®èƒŒæ™¯
        const boxBgColor = item.isExternal ? accentColor + '15' : bgColor;
        ctx.fillStyle = boxBgColor;
        ctx.fillRect(item.x, item.y, item.width, item.height);

        // ãƒœãƒ¼ãƒ€ãƒ¼
        ctx.strokeStyle = borderColor;
        ctx.lineWidth = 2;
        ctx.strokeRect(item.x, item.y, item.width, item.height);

        // çµµæ–‡å­—
        ctx.font = `${emojiSize}px sans-serif`;
        ctx.textAlign = 'center';
        ctx.textBaseline = 'middle';
        const emojiY = item.y + item.height / 2 - 30;
        ctx.fillText(item.emoji, item.x + item.width / 2, emojiY);

        // ãƒ†ã‚­ã‚¹ãƒˆ
        ctx.font = `bold ${fontSize}px sans-serif`;
        const textColorFinal = item.isExternal ? accentColor : textColor;
        ctx.fillStyle = textColorFinal;
        const textY = item.y + item.height / 2 + 40;
        ctx.fillText(item.text, item.x + item.width / 2, textY);
      });

      console.log('âœ… Rich menu image generated');
    }

    // åˆå›ç”Ÿæˆ
    generateImage();
  </script>
</body>
</html>
